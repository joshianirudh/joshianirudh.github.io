function m(){if($("#map").length){let e=$("#map-provider").val(),t=$("#map-lat").val(),o=$("#map-lng").val(),a=parseInt($("#map-zoom").val()),p=$("#map-dir").val(),n=$("#map-api-key").val();if("google"===e)new GMaps({div:"#map",lat:t,lng:o,zoom:a,zoomControl:!0,zoomControlOpt:{style:"SMALL",position:"TOP_LEFT"},streetViewControl:!1,mapTypeControl:!1,gestureHandling:"cooperative"}).addMarker({lat:t,lng:o,click:function(){let e="https://www.google.com/maps/place/"+encodeURIComponent(p)+"/@"+t+","+o+"/";window.open(e,"_blank")},title:p});else{let r=new L.map("map").setView([t,o],a);"mapbox"===e&&n.length?L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:n}).addTo(r):L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(r);let i=L.marker([t,o]).addTo(r),m=t+","+o+"#map="+a+"/"+t+"/"+o+"&layers=N";i.bindPopup(p+'<p><a href="https://www.openstreetmap.org/directions?engine=osrm_car&route='+m+'">Routing via OpenStreetMap</a></p>')}}}document.addEventListener("DOMContentLoaded",(function(){m()}));